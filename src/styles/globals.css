@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* --- BASE SIZE & RADIUS --- */
  --font-size: 16px;
  --radius: 0.625rem;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* --- DEFAULT THEME (Happy / Light) --- */
  /* Fallback nếu không có data-theme */
  --theme-gradient: linear-gradient(135deg, #FFF7D1 0%, #FFD700 100%); /* Happy Gradient */
  
  --background: #ffffff;
  --foreground: #5D4037; /* Happy Text */

  --card: #ffffff;
  --card-foreground: #5D4037;

  --popover: #ffffff;
  --popover-foreground: #5D4037;

  --primary: #FF8C00; /* Happy Accent */
  --primary-foreground: #ffffff;

  --secondary: #FFF7D1; /* Lấy màu nhạt từ gradient */
  --secondary-foreground: #FF8C00;

  --muted: #ececf0;
  --muted-foreground: #717182;

  --accent: #FFD700;
  --accent-foreground: #5D4037;

  --destructive: #d4183d;
  --destructive-foreground: #ffffff;

  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: rgba(255, 255, 255, 0.5);
  --ring: #FF8C00;

  /* Chart Colors (Giữ nguyên hoặc chỉnh theo theme nếu muốn) */
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  /* Sidebar */
  --sidebar: rgba(255, 255, 255, 0.8);
  --sidebar-foreground: #5D4037;
  --sidebar-primary: #FF8C00;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #FFF7D1;
  --sidebar-accent-foreground: #FF8C00;
  --sidebar-border: rgba(0,0,0,0.05);
  --sidebar-ring: #FF8C00;
}

/* --- THEME OVERRIDES --- */

/* 1. SAD THEME (Buồn) */
[data-theme="sad"] {
  --theme-gradient: linear-gradient(135deg, #E0E6F8 0%, #8999C2 100%);
  --background: #E0E6F8; /* Solid color fallback */
  --foreground: #1F2D3D;
  
  --primary: #2C3E50;
  --primary-foreground: #ffffff;
  
  --card: rgba(255, 255, 255, 0.6);
  --card-foreground: #1F2D3D;
  
  --muted: #8999C2;
  --muted-foreground: #4A5568;
  
  --accent: #B0C4DE;
  --accent-foreground: #1F2D3D;
  
  --ring: #2C3E50;
}

/* 2. ANGRY THEME (Giận dữ) */
[data-theme="angry"] {
  --theme-gradient: linear-gradient(135deg, #FFE5E5 0%, #FF4D4D 100%);
  --background: #FFE5E5;
  --foreground: #470000;
  
  --primary: #990000;
  --primary-foreground: #ffffff;
  
  --card: rgba(255, 255, 255, 0.7);
  --card-foreground: #470000;
  
  --muted: #FFCCCB;
  --muted-foreground: #800000;
  
  --accent: #FF0000;
  --accent-foreground: #ffffff;
  
  --ring: #990000;
}

/* 3. TIRED THEME */
[data-theme="tired"] {
  --theme-gradient: linear-gradient(135deg, #F3F4F6 0%, #D1D5DB 100%);
  --background: #F3F4F6;
  --foreground: #4B5563;
  
  --primary: #6B7280;
  --primary-foreground: #ffffff;
  
  --card: rgba(255, 255, 255, 0.5);
  --card-foreground: #4B5563;
  
  --muted: #E5E7EB;
  --muted-foreground: #9CA3AF;
  
  --accent: #D1D5DB;
  --accent-foreground: #374151;
  
  --ring: #6B7280;
}

/* 4. ROMANTIC THEME (Lãng mạn) */
[data-theme="romantic"] {
  --theme-gradient: linear-gradient(135deg, #FFF1F2 0%, #FECDD3 100%);
  --background: #FFF1F2;
  --foreground: #881337;
  
  --primary: #E11D48;
  --primary-foreground: #ffffff;
  
  --card: rgba(255, 255, 255, 0.6);
  --card-foreground: #881337;
  
  --muted: #FCE7F3;
  --muted-foreground: #BE185D;
  
  --accent: #FDA4AF;
  --accent-foreground: #881337;
  
  --ring: #E11D48;
}

/* 5. HAPPY THEME (Redefine explicitly to match structure) */
[data-theme="happy"] {
  --theme-gradient: linear-gradient(135deg, #FFF7D1 0%, #FFD700 100%);
  --background: #FFF7D1;
  --foreground: #5D4037;
  --primary: #FF8C00;
  --primary-foreground: #ffffff;
  --card: rgba(255, 255, 255, 0.6);
  --ring: #FF8C00;
}

@layer base {
  * {
    border-color: var(--border);
    outline-color: var(--ring);
  }

  body {
    /* Sử dụng gradient nền cho toàn bộ body */
    background: var(--theme-gradient);
    background-attachment: fixed; /* Giữ nền cố định khi cuộn */
    background-size: cover;
    color: var(--foreground);
    min-height: 100vh;
    transition: background 0.5s ease, color 0.5s ease; /* Hiệu ứng chuyển mượt */
  }
}

/* Utility Animations */
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradientMove 15s ease infinite;
}